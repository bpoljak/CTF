<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8">
  <title>Razina 9 – Pohranjeni XSS</title>
</head>
<body style="font-family: sans-serif; padding: 40px; max-width: 900px; margin: auto; text-align: center;">
  <h1>💬 Razina 9: Ostavi komentar</h1>

  <p><strong>Hint:</strong> Komentari su javni. Možda netko s <em>posebnim ovlastima</em> povremeno čita što ovdje piše?</p>
  <p>Što ako baš ta osoba <strong>pročita tvoj komentar</strong>?  
     <br />Možda trebaš <strong>privući pažnju pravog imena</strong>... 😉</p>

  <form method="POST" style="margin-top: 20px;">
    <input type="text" name="name" placeholder="Tvoje ime" required
           style="padding: 10px; font-size: 16px; width: 300px; margin-bottom: 10px;" /><br />
    <textarea name="message" placeholder="Tvoj komentar" required
              style="padding: 10px; font-size: 16px; width: 300px; height: 100px;"></textarea><br />
    <button type="submit" style="padding: 10px 20px; font-size: 16px;">Pošalji komentar</button>
  </form>

  <% if (flag) { %>
    <p style="margin-top: 30px;"><strong>Flag:</strong> <%= flag %></p>

    <form method="POST" style="margin-top: 20px;">
      <input type="text" name="flagInput" placeholder="Unesi flag za nastavak" required
             style="padding: 10px; font-size: 16px; width: 250px;" />
      <button type="submit" style="padding: 10px 20px;">Pošalji flag</button>
    </form>
  <% } %>

  <% if (error) { %>
    <p style="color: red; margin-top: 20px;"><%= error %></p>
  <% } %>

  <h2 style="margin-top: 40px;">Komentari:</h2>
  <ul style="list-style: none; padding: 0;">
    <% comments.forEach(c => { %>
      <li style="margin: 10px 0;">
        <strong><%= c.name %></strong>: 
        <span><%- c.message %></span>
      </li>
    <% }) %>
  </ul>

  <hr style="margin: 40px auto; width: 60%;" />

  <img src="https://media.giphy.com/media/5VKbvrjxpVJCM/giphy.gif"
       alt="XSS hint" style="max-width: 100%; border-radius: 8px;" />

  <p style="margin-top: 10px; color: gray;">
    💡 Hint: Nekad poruka ne treba biti za sve – samo za one koji znaju gledati...
  </p>

  <footer id="footer" style="margin-top: 50px; color: #999;"
          data-hint="Da bi riješio oaj zadatak, moraš napraviti skriptu">
    © INCTF 2025 – Poruka za admina.
  </footer>
</body>
</html>
