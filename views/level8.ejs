<!DOCTYPE html>
<html lang="hr">
<head>
  <meta charset="UTF-8">
  <title>Razina 8 – SQL Injection</title>
</head>
<body style="font-family: sans-serif; padding: 40px; max-width: 900px; margin: auto; text-align: center;">
  <h1>💉 Razina 8: Pretraga korisnika</h1>

  <p><strong>Hint:</strong> Tražiš korisnika po imenu.  
     <br />Ponekad je SQL upit... previše povjerljiv sa svojim informacijama.</p>

  <form method="GET" style="margin-top: 20px;">
    <input type="text" name="name" placeholder="Unesi ime korisnika" required
           style="padding: 10px; font-size: 16px; width: 300px;" />
    <button type="submit" style="padding: 10px 20px; font-size: 16px;">Pretraži</button>
  </form>

  <% if (error) { %>
    <p style="color: red; margin-top: 20px;"><%= error %></p>
  <% } %>

  <% if (users) { %>
    <h2 style="margin-top: 40px;">Rezultati pretrage:</h2>
    <ul style="list-style: none; padding: 0;">
      <% users.forEach(u => { %>
        <li style="margin: 10px 0;">
          <strong><%= u.name %></strong>
          <% if (u.isAdmin) { %>
            – Admin – Flag: <code>flag{classic_sql_injection}</code>
          <% } %>
        </li>
      <% }) %>
    </ul>

    <h3 style="margin-top: 40px;">Imaš flag?</h3>
    <form method="GET">
      <input type="text" name="flagInput" placeholder="Unesi flag" required
             style="padding: 10px; font-size: 16px; width: 300px;" />
      <button type="submit" style="padding: 10px 20px; font-size: 16px;">Pošalji flag</button>
    </form>
  <% } %>

  <hr style="margin: 50px auto; width: 60%;" />

  <img src="https://media2.giphy.com/media/v1.Y2lkPTc5MGI3NjExcmp6eGY5OXVhcWl3cWxrb2t1Y2k0eDM3aTlnejBramkyN2hleW1hcCZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/NpGgnGZgOHcRvj9fHe/giphy.gif"
       alt="SQL injection hint" style="max-width: 100%; border-radius: 8px;" />

  <p style="margin-top: 10px; color: gray;">
    💡 Hint: Prava upitna riječ na pravom mjestu može ti reći sve...  
    <br />A možda i previše.
  </p>

  <!-- Skriveni SQLi hint -->
  <footer id="footer" style="margin-top: 50px; color: #999;"
          data-hint=" ' OR 1=1 ">
    © INCTF 2025 – Povjerenje u korisnički unos? Pogreška.
  </footer>
</body>
</html>
